<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Красивые идейные задачи - Алгоритмика</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../pandoc.css" />
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfjBggQFxAS4ilBAAACgElEQVRIx52VS0iUYRSGn/8fzbxMIYoRKSZKi2wGwo2FxRQZIlGbaGUF0b52LWbTLlx0W7VyEZiBWkE5mraRRrJFRUwolQw6zQTeuoiU423eFuk0M//nhJ7dd+Z7n/8932HOscgIgU0lR/Cxn3LKgGlijDJIkAgJiywhZMujVo0qrsyIa1St8shWFnmp/IooW0TkV6mMYuRVQCv6X6woIK+QQ16vkPP2M/WZICHVpyGEvCb5vE7olH6bEV6l1R4w3RpQkYoVNJcSWHsLIUt+rTpvLOuSELqihAmwKr8sgZBHE2aX5UKoRmNmDxPyCBtoodLU1m5yaADC9Jr7XkkLoCqNmPAx1eqqnqhAqEHfzB5GVGXTQLUJ/5xZznGcOuAtQbOHahpsfOQ5f5mng8McZAdnsVigkyUTIA8fGjZ561OpuiRJY6oR2qU35iKGbSqc4GU6qObYmstmYIrH5iIq0JIT+17lupU8BVUsVKsvJgdLtgnbxXZOJ091HAU+0W+0YCnGnvRUlCa+42OdbRHiA3CSbtyZ+q85RDMBfcxxjZKUf5uPO4wwzGsaMwFR1JZe1Jx8uuB4mBtC6LJzXLTZDLKYihziM+fJzfjQGfYC/XxMTy8yaDNEOLWBDznAIcdT7aMRiPI0PR1myGacnn+Zd7ygiUIHwEUjuUAnsdR0D+M20E7k7/knt5ki39guN9uAEPeIr6citIPrOsxQiC9hveIuLylkkgXyKUsR/2CAB8yyEzdhJiliN3aCmzwCCwSl3FfzDL9wYZFAuClJAcSZJoELALFKAWVYvVxkdm3NbDRUs0TqUM021jeU15s2w9YXSxKy9dWWRGx6uVpOyObW+x/B+LEV0hF3cAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0wNi0wOFQxNjoyMzoxNiswMjowMLEfSBUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMDYtMDhUMTY6MjM6MTYrMDI6MDDAQvCpAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC" rel="icon" type="image/x-icon" />

  <!-- Yandex.Metrika counter -->
  <script type="text/javascript">
     (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
     m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
     (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

     ym(53961409, "init", {
          clickmap:true,
          trackLinks:true,
          accurateTrackBounce:true,
          webvisor:true
     });
  </script>
  <noscript><div><img src="https://mc.yandex.ru/watch/53961409" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
  <!-- /Yandex.Metrika counter -->

  <script>
  // index page width
  document.addEventListener("DOMContentLoaded", function(event) {
    document.getElementsByClassName('contents')[0].parentElement.style.width = "860px";
    document.getElementsByTagName('h1')[0].style.marginRight = "40px";
  });
  </script>
</head>
<body>
<div id='header'>
    <a href='https://algorithmica.org/ru/'><div id='logo'>Алгоритмика</div></a>
    <div id='links'>
        <a href='https://github.com/algorithmica-org/ru/edit/master/bayans.md'>Редактировать</a>
        <a href='https://github.com/algorithmica-org/ru/commits/master/bayans.md'>История</a>
    </div>
</div>
<div class="migration"><a href='https://ru.algorithmica.org/cs/'>Сайт переезжает.</a> Большинство статей уже перенесено на новую версию.<br>Скоро добавим автоматические переходы, но пока обновленную версию этой статьи можно найти там.</div>
<h1 id="красивые-идейные-задачи">Красивые идейные задачи</h1>
<p>Везде, где не указано — время работы <span class="math inline">\(O(n)\)</span>, а если есть конкретные числа, то TL 1 секунда.</p>
<p>Задачи идут в порядке вспоминания, то есть в весьма рандомном.</p>
<h2 id="попугаи">Попугаи</h2>
<p>Вам нужно передать 64 байт некоторой информации. Для этого у вас есть 320 специально обученных попугаев, каждый из которых может запомнить число от 0 до 255. Все попугаи рано или поздно долетают до точки назначения и сообщают свой байт, но, возможно, не в том порядке, в котором были выпущены. Попугаи внешне неразличимы.</p>
<h2 id="минимум-и-максимум">Минимум и максимум</h2>
<p>Даны 68 камней разного веса. Требуется за 100 операций взвешивания определить самый лёгкий и самый тяжелый.</p>
<h2 id="перестановка">Перестановка</h2>
<p>Есть перестановка из 64 элементов. Вы можете спрашивать, какие элементы находятся на заданном множестве позиций (вам сообщается список элементов в произвольном порядке). Восстановите перестановку за 6 запросов.</p>
<h2 id="выпуклая-оболочка">Выпуклая оболочка</h2>
<p>Требуется отвечать на 2 типа запросов:</p>
<ol type="1">
<li>Добавить точку в выпуклую оболочку.</li>
<li>Проверить, лежит ли точка внутри выпуклой оболочки.</li>
</ol>
<p>Обе операции онлайн за <span class="math inline">\(O(\log n)\)</span>.</p>
<h2 id="геометрическая-прогрессия">Геометрическая прогрессия</h2>
<p>Найдите способ посчитать <span class="math inline">\(\frac{1-a^n}{1-a}\)</span> по произвольному модулю за <span class="math inline">\(O(\log n)\)</span>.</p>
<h2 id="покемоны">Покемоны</h2>
<p>В турнире участвуют 1024 видов покемонов. Вы, будучи экспертом по покемонам, знаете, кто кого может победить. Иначе говоря, вам полностью известен граф-<em>турнир</em> из 1024 вершин и <span class="math inline">\(1023 \times 1022 : 2\)</span> рёбер, в котором каждые две вершины соединены ровно одним ориентированным ребром, определяющим победителя в возможном поединке. Обратите внимание, что из <span class="math inline">\(a \to b\)</span> и <span class="math inline">\(b \to c\)</span> не следует, что <span class="math inline">\(a \to c\)</span>.</p>
<p>У вас есть 10 покеболов. Составьте команду из 10 покемонов такую, что для каждого из 1024 типов покемонов в вашей команде найдется покемон, побеждающий его. Считайте, что в битве одинаковых покемонов побеждает ваш.</p>
<h2 id="сортировка">Сортировка</h2>
<p>Можно ли отсортировать * 5 камней за 8 взвешиваний? * 5 камней за 7 взвешиваний? * 20 камней за 60 взвешиваний?</p>
<h2 id="точки-в-круге">Точки в круге</h2>
<p>Даны <span class="math inline">\(n\)</span> точек, равномерно распределенных в единичном круге с центром в начале координат. Предложите алгоритм, который за <span class="math inline">\(O(n)\)</span> в среднем сортирует их по удаленности от начала координат.</p>
<h2 id="замкнутые-ломаные">Замкнутые ломаные</h2>
<p>Даны две замкнутые несамопересекающиеся ломаные. Определите, можно ли перевести их друг в друга с помощью параллельного переноса, поворотов и гомотетии?</p>
<h2 id="неубывающий-массив">Неубывающий массив</h2>
<p>Дан массив из <span class="math inline">\(n\)</span> целых чисел. Требуется за <span class="math inline">\(2n\)</span> операций «прибавить к одному элементу любой другой» сделать его неубывающим.</p>
<h2 id="чётный-цикл">Чётный цикл</h2>
<p>Дан неориентированный граф. Определите, есть ли в нём простой цикл чётной длины.</p>
<h2 id="k-ая-порядковая-статистика"><span class="math inline">\(k\)</span>-ая порядковая статистика</h2>
<p>Дан массив из <span class="math inline">\(n\)</span> целых чисел. Найдите его <span class="math inline">\(k\)</span>-й наименьший элемент за <span class="math inline">\(O(n)\)</span>.</p>
<h2 id="доминирующий-элемент">Доминирующий элемент</h2>
<p>Дан массив из <span class="math inline">\(n\)</span> элементов. Требуется ответить на <span class="math inline">\(m\)</span> запросов, есть ли на отрезке <span class="math inline">\([l, r]\)</span> <em>доминирующий</em> элемент — тот, который встречается на нём хотя бы <span class="math inline">\(\frac{r-l}{2}\)</span> раз. Время работы <span class="math inline">\(O((n+m) \log n)\)</span>.</p>
<h2 id="разрушение-дерева">Разрушение дерева</h2>
<p>Дано корневое дерево. Каждую итерацию выбирается вершина (равновероятно из всех оставшихся), и удаляется всё поддерево, соответствующее этой вершине. Найти, сколько ходов в среднем будет продолжаться этот процесс, то есть матожидание номера итерации, на которой будет удалён корень дерева.</p>
<h2 id="k-ый-элемент-на-отрезке"><span class="math inline">\(k\)</span>-ый элемент на отрезке</h2>
<p>Дан массив из <span class="math inline">\(n\)</span> целых чисел. Требуется ответить на <span class="math inline">\(m\)</span> запросов <span class="math inline">\(k\)</span>-ой порядковой статистики на произвольном отрезке. Время работы <span class="math inline">\(O((n+m) \log n)\)</span>.</p>
<h2 id="различные-числа-на-отрезке">Различные числа на отрезке</h2>
<p>Дан массив из <span class="math inline">\(n\)</span> целых чисел. Требуется ответить на <span class="math inline">\(m\)</span> запросов количества различных элементов на произвольном отрезке. Время работы <span class="math inline">\(O(m\sqrt{n})\)</span>.</p>
<h2 id="физкультура">Физкультура</h2>
<p>Зачёт по физкультуре в одном институте ставится по количеству посещений, поэтому важно знать, сколько учебных дней осталось до конца семестра (особенно когда напропускал пары). Семестр длится <span class="math inline">\(m\)</span> дней. Деканат последовательно издает <span class="math inline">\(n\)</span> приказов двух типов:</p>
<ol type="1">
<li>Объявить все дни с <span class="math inline">\(l\)</span> по <span class="math inline">\(r\)</span> выходными (физру закрывать нельзя)</li>
<li>Объявить все дни с <span class="math inline">\(l\)</span> по <span class="math inline">\(r\)</span> учебными (физру закрывать можно)</li>
</ol>
<p>При этом приказ может частично отменить действие предыдущих приказов.</p>
<p>После каждого приказа нужно посчитать суммарное число учебных дней в семестре. Асимптотика <span class="math inline">\(O(n \log n)\)</span>.</p>
<h2 id="нулевая-сумма">Нулевая сумма</h2>
<p>Дано мультимножество из <span class="math inline">\(n\)</span> целых чисел. Найдите любое его подмножество, сумма чисел которого делится на <span class="math inline">\(n\)</span>.</p>
<h2 id="мета-задача">Мета-задача</h2>
<p>В задаче дана произвольная строка, по которой известным только авторам способом генерируется ответ yes/no. В задаче 100 тестов. У вас есть 20 попыток. В качестве фидбэка вам доступны вердикты на каждом тесте. Вердикта всего два: OK (ответ совпал) и WA. Попытки поделить на ноль, выделить терабайт памяти и подобное тоже считаются как WA. «Решите» задачу.</p>
<h2 id="ниточка">Ниточка</h2>
<p>В плоскую доску вбили <span class="math inline">\(n\)</span> гвоздей радиуса <span class="math inline">\(r\)</span>, причём так, что соответствующие точки на плоскости образуют вершины выпуклого многоугольника. На эти гвозди натянули ниточку, причём ниточка «огибает» по кругу гвозди. Найдите длину ниточки, то есть периметр этого многоугольника с учётом закругления.</p>
<h2 id="пельмени">Пельмени</h2>
<p>Компания друзей захотела сделать заготовки для пельменей из огромного прямоугольного куска теста. Для этого в ход пошли всевозможные предметы округлой формы: стаканы, кружки, кострюли… В итоге тесто было разделено <span class="math inline">\(n\)</span> возможно пересекающимися окружностями произвольных радиусов и центров. Нам интересно посчитать, сколько получилось заготовок, то есть на сколько кусков распалось тесто. Асимптотика <span class="math inline">\(O(n^2 \log n)\)</span>.</p>
<h2 id="от-нуля-до-единицы">От нуля до единицы</h2>
<p>Дан следующий код:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> x <span class="op">&lt;</span> <span class="dv">1</span>:</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    x <span class="op">+=</span> random()</span></code></pre></div>
<p>Требуется посчитать матожидание <code>x</code>.</p>
<p>(<code>random</code> в питоне возвращает случайное действительное число от 0 до 1.)</p>
<h2 id="площадь">Площадь</h2>
<p>Дан единичный квадрат и 100 кругов. Нужно посчитать площадь квадрата, которую покрывают эти круги, с ошибкой менее 1%.</p>
<h2 id="окружности">Окружности</h2>
<p>Имеется окружность радиуса <span class="math inline">\(R\)</span>, назовём её <em>внешней</em>. Внутри неё лежит окружность радиуса <span class="math inline">\(r &lt; R\)</span> и соприкасается с ней. Дальше строятся бесконечное число окружностей по следующему правилу: <span class="math inline">\(k\)</span>-я окружность должна</p>
<ul>
<li>соприкасаться с <em>внешней</em>,</li>
<li>соприкасаться с предыдущей ((<span class="math inline">\(k-1\)</span>)-ой),</li>
<li>иметь при этом максимальный радиус.</li>
</ul>
<p>Найдите (выведите формулу за <span class="math inline">\(O(1)\)</span>) радиус <span class="math inline">\(k\)</span>-й такой окружности.</p>
<h2 id="блеф">Блеф</h2>
<p>Катя и Серёжа играют в игру. У Кати есть <span class="math inline">\(n\)</span> карт, у Серёжи — <span class="math inline">\(m\)</span>. Одна дополнительная карта лежит на столе рубашкой вверх. Назовём её <em>особой</em>. Цель игроков — её отгадать. Все <span class="math inline">\(n+m+1\)</span> карт различны, игроки изначально знают только свои карты. Игроки ходят по очереди, начинает Катя. Игрок в свой ход может:</p>
<ul>
<li>Попытаться угадать <em>особую</em> карту. Если получилось угадать, то игрок победил, иначе проиграл. В любом случае, игра на этом заканчивается.</li>
<li>Назвать любую карту из колоды. Если у соперника есть такая карта — он обязан показать ее и вывести из игры. Если же у него нет такой карты — он сообщает об этом.</li>
</ul>
<p>С какой вероятностью выиграет Катя при оптимальной игре обоих игроков? Асимптотика <span class="math inline">\(O(nm)\)</span>.</p>
<h2 id="достижимость">Достижимость</h2>
<p>Дан ориентированный граф без кратных рёбер. Для всех пар вершин <span class="math inline">\(u\)</span> и <span class="math inline">\(v\)</span> определите, можно ли дойти из <span class="math inline">\(u\)</span> в <span class="math inline">\(v\)</span>. Вершин меньше 2000.</p>
<h2 id="нумизмат">Нумизмат</h2>
<p>Есть <span class="math inline">\(n\)</span> жадных коллекционеров монет, которые согласны меняться, только если взамен монеты, которых у них более одной, они получают монету, которых у них нет вовсе. Всего есть <span class="math inline">\(k\)</span> типов монет. Известно количество монет каждого типа у каждого коллекционера и у коллекционера Серёжи. Серёжа хочет максимизировать количество различных монет у него путем обмена с жадными коллекционерами. Считайте, что жадные коллекционеры не меняются между собой.</p>
<p>Придумайте любой полиномиальный алгоритм.</p>
<h2 id="принцесса">Принцесса</h2>
<p>В некотором королевстве жила принцесса. Она была настольно прекрасна, что каждый юноша в королевстве хотел жениться на ней. Принцесса была привередлива, поэтому твердо решила выйти замуж только за самого красивого юношу в государстве.</p>
<p>Она составила список из <span class="math inline">\(n\)</span> самых красивых юношей и вызывает их каждый день в случайном порядке. После того, как к ней приходит очередной юноша, она принимает решение: либо выйти за него замуж, либо нет. Если она выходит за него замуж, то она все равно просматривает всех остальных, чтобы убедиться, что он действительно самый красивый. Если это так, то они живут долго и счастливо. Если нет (если она вышла замуж не за самого красивого, либо не вышла замуж вообще), то принцесса покончит жизнь самоубийством.</p>
<p>У принцессы очень хорошая память, поэтому она может сравнивать красоту очередного юноши со всеми предыдущими, а также у неё тонкий вкус, поэтому никакие двое юношей не являются для неё одинаково красивыми.</p>
<p>Помогите принцессе разработать стратегую, которая максимизирует вероятность того, что она выйдет замуж за наиболее красивого юношу.</p>
<p>Асимптотика <span class="math inline">\(O(n^2)\)</span>.</p>
<h2 id="спираль">Спираль</h2>
<p>Определим спираль <span class="math inline">\((2n+1) \times (2n+1)\)</span> как матрицу следующего вида:</p>
<p><span class="math display">\[
\begin{matrix}
21 &amp; 22 &amp; 23 &amp; 24 &amp; 25 \\
20 &amp; 7 &amp;  8 &amp;  9 &amp; 10 \\
19 &amp; 6 &amp;  1 &amp;  2 &amp; 11 \\
18 &amp; 5 &amp;  4 &amp;  3 &amp; 12 \\
17 &amp; 16 &amp; 15 &amp; 14 &amp; 13 \\
\end{matrix}
\]</span></p>
<p>Ваша задача — рассчитать ответы на <span class="math inline">\(q\)</span> запросов суммы чисел в произвольной прямоугольной области (по модулю <span class="math inline">\(10^9+7\)</span>).</p>
<p><span class="math inline">\(q \leq 100\)</span>, <span class="math inline">\(n \leq 10^9\)</span>.</p>
<h2 id="польский-лабиринт">Польский лабиринт</h2>
<p>Группа из <span class="math inline">\(n\)</span> туристов гуляет в бесконечном лабиринте. Лабиринт имеет форму треугольника Серпинского: клетка <span class="math inline">\((x, y)\)</span> свободна, только если <code>x &amp; y == 0</code>.</p>
<p><img src="https://image.ibb.co/cSs7H7/Screenshot_from_2018_03_31_16_34_58.png" /></p>
<p>Туристы устали блуждать по лабиринту и хотят встретиться в какой-нибудь свободной клетке, сумма расстояний от всех туристов до которой наименьшая. Туристы за один ход могут передвигаться вверх, вниз, влево и вправо по свободным клеткам.</p>
<p><span class="math inline">\(n \leq 10^5\)</span>, изначальные координаты туристов до <span class="math inline">\(10^9\)</span>.</p>
<h2 id="нимные-подмножества">Нимные подмножества</h2>
<p>Есть множество <span class="math inline">\(A\)</span>, состоящее из <span class="math inline">\(n\)</span> чисел от 0 до <span class="math inline">\(2^{32}-1\)</span>. Требуется выбрать его подмножество <span class="math inline">\(B \subseteq A\)</span> максимальной суммы такое, что нельзя выбрать его подмножество <span class="math inline">\(C \subseteq B\)</span> такое, что ним на кучках соответствующего размера — проигрышный. Асимптотика <span class="math inline">\(O(n \log n)\)</span>.</p>
<h2 id="баланс-степеней">Баланс степеней</h2>
<p>Дан неориентированный граф. Требуется ориентировать каждое ребро так, чтобы максимизировать число вершин, у которых степень исхода равна степени захода.</p>
<h2 id="два-пути">Два пути</h2>
<p>Дан ориентированный граф. Найдите два непересекающихся по рёбрам пути из <span class="math inline">\(s\)</span> в <span class="math inline">\(t\)</span>.</p>
<h2 id="пьяница">Пьяница</h2>
<p>Пьяница стоит на числовой прямой в точке 0. Каждую секунду он делает единичный шаг вправо (в сторону увеличения координат) с вероятностью <span class="math inline">\(p\)</span> и влево с вероятностью <span class="math inline">\(1-p\)</span>. С какой вероятностью он когда-либо окажется в точке с отрицательной координатой?</p>
<h2 id="ксоровый-рюкзак">Ксоровый рюкзак</h2>
<p>Дан массив из <span class="math inline">\(10^5\)</span> целых чисел от <span class="math inline">\(0\)</span> до <span class="math inline">\((2^{30}-1)\)</span>. Найти количество различных подпоследовательностей этого массива, <code>xor</code>-сумма которых равна заданному числу <span class="math inline">\(x\)</span>.</p>
<h2 id="иван-сусанин">Иван Сусанин</h2>
<p>Польская армия хочет добраться из поселения <span class="math inline">\(s\)</span> в поселение <span class="math inline">\(t\)</span>. Ей руководят два гетмана — Камиль и Матеуш.</p>
<ul>
<li>Камиль руководит армией днём и водит армию по <em>дорогам</em>.</li>
<li>Матеуш руководит армией ночью и совершает маневры по <em>секретным тропам</em>.</li>
</ul>
<p>Каждый гетман перед маршем спрашивает дорогу у Ивана Сусанина. Иван хочет задержать наступление польских войск.</p>
<p>Карта дорог известна Камилю. Аналогично, карта секретных троп известна Матеушу. Поэтому Ивану не удастся их так просто обмануть — он должен каждый раз выбрать переход так, что минимальное расстояние между поселением <span class="math inline">\(t\)</span> и войском по соответствующей карте строго уменьшилось.</p>
<p>Вы знаете карту дорог и троп вместе с их длинами. Помогите Ивану как можно дольше (желательно, бесконечно) вести армию из <span class="math inline">\(s\)</span> в <span class="math inline">\(t\)</span>.</p>
<h2 id="варенье">Варенье</h2>
<p>В ряд стоят <span class="math inline">\(n\)</span> пустых банок из-под варенья. Вместительность <span class="math inline">\(i\)</span>-й банки равна <span class="math inline">\(v_i\)</span> грамм.</p>
<p>Карлсон наполняет эти банки вареньем в <span class="math inline">\(m\)</span> этапов. На каждом этапе он выбирает числа <span class="math inline">\(l\)</span>, <span class="math inline">\(r\)</span>, <span class="math inline">\(x\)</span> и <span class="math inline">\(y\)</span>, а затем пролетает над банками с <span class="math inline">\(l\)</span> по <span class="math inline">\(r\)</span>, выполняя следующие операции: в банку номер <span class="math inline">\(l\)</span> он добавляет <span class="math inline">\(x\)</span> грамм варенья, в банку номер <span class="math inline">\((l + 1)\)</span> — <span class="math inline">\((x + y)\)</span> грамм варенья, в банку номер <span class="math inline">\((l + 2)\)</span> — <span class="math inline">\((x + 2y)\)</span>, и так далее до <span class="math inline">\(r\)</span>-той банки, в которую он положит <span class="math inline">\(x + y(r - l)\)</span> грамм варенья.</p>
<p>Малышу хочется определить для каждой банки наименьший номер операции, после которой она станет полной.</p>
<p><span class="math inline">\(n, m \leq 10^5\)</span></p>
<h2 id="лабиринт">Лабиринт</h2>
<p>Серёжа потерялся в лабиринте <span class="math inline">\(n \times m\)</span>. Каждая клетка либо свободна, либо стена. Все крайние клетки — стены. Вам известно, где находится выход из лабиринта, но не известно, где находится Серёжа. Составьте для него последовательность направлений (вверх, вниз, влево, вправо) такую, после которой он окажется в клетке с выходом, вне зависимости от его стартовой позиции. Если вы прикажете ему идти в стену, то просто ничего не произойдёт.</p>
<p>Придумайте любой полиномиальный алгоритм.</p>
<h2 id="обезьяна">Обезьяна</h2>
<p>Дана строка из <span class="math inline">\(10^5\)</span> символов латинского алфавита. Обезьяна нажимает случайные клавиши на клавиатуре (одну из 26 букв), пока не наберёт её целиком, то есть пока исходная подстрока не станет подстрокой набранной строки. Какое ожидание числа нажатых клавиш перед тем, как это произойдёт?</p>
<h2 id="ожидание-минимума">Ожидание минимума</h2>
<p>Даны <span class="math inline">\(n\)</span> случайных величин, равномерно распределенных на отрезках <span class="math inline">\([l_i, r_i]\)</span> — у каждой величины свой отрезок. Найдите математическое ожидание минимума этих случайных величин.</p>
<p>Придумайте любой точный полиномиальный алгоритм.</p>
<h2 id="шумный-ксор">Шумный ксор</h2>
<p>Загадано некое число <span class="math inline">\(x\)</span>. Вы можете делать запросы следующего типа: назвать число <span class="math inline">\(y\)</span> и получить в ответ <strong>число единичных битов</strong> в ксор-сумме <span class="math inline">\(x\)</span>, <span class="math inline">\(y\)</span> и <span class="math inline">\(m\)</span>, где <span class="math inline">\(m\)</span> это случайно сгенерированная маска, в которой каждый бит имеет вероятность <span class="math inline">\(p = \frac15\)</span> быть единичным, то есть каждый бит <span class="math inline">\(x \oplus y\)</span> заменяется на противоположный с вероятностью <span class="math inline">\(y\)</span>, и вам возвращается количество единичных битов. Для ясности:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="co"># ...</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mask(p<span class="op">=</span><span class="fl">0.2</span>):</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    r <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">32</span>):</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> random.random() <span class="op">&lt;</span> p:</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>            r <span class="op">+=</span> <span class="dv">2</span><span class="op">**</span>i</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> r</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> query(y):</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">bin</span>(x <span class="op">^</span> y <span class="op">^</span> mask()).count(<span class="st">&#39;1&#39;</span>)</span></code></pre></div>
<p>Ваша задача — отгадать число, используя не более 10000 попыток.</p>
</body>
</html>
